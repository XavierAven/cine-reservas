<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Detalle de Pel√≠cula</title>
    <script>
        async function cargarDatos() {
            const params = new URLSearchParams(window.location.search);
            const id = params.get("id");

            const response = await fetch(`/api/peliculas/${id}`);
            const data = await response.json();

            document.getElementById("titulo").textContent = data.titulo;
            document.getElementById("genero").textContent = data.genero;
            document.getElementById("duracion").textContent = data.duracion + " min";
            document.getElementById("descripcion").textContent = data.descripcion;
            document.getElementById("director").textContent = data.director;
            document.getElementById("actores").textContent = data.actores_principales;

            const sesionesDiv = document.getElementById("sesiones");
            sesionesDiv.innerHTML = "";

            data.sesiones.forEach(sesion => {
                const div = document.createElement("div");
                div.innerHTML = `üìÖ ${sesion.fecha} ‚è∞ ${sesion.hora} üé¨ ${sesion.sala}`;
                sesionesDiv.appendChild(div);
            });
        }

        window.onload = cargarDatos;
    </script>
</head>
<body>
    <h1 id="titulo"></h1>
    <p><strong>G√©nero:</strong> <span id="genero"></span></p>
    <p><strong>Duraci√≥n:</strong> <span id="duracion"></span></p>
    <p><strong>Director:</strong> <span id="director"></span></p>
    <p><strong>Actores principales:</strong> <span id="actores"></span></p>
    <p><strong>Sinopsis:</strong></p>
    <p id="descripcion"></p>
    <h3>Sesiones disponibles</h3>
    <div id="sesiones"></div>
</body>
</html>
